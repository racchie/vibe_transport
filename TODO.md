# TODO（最新版）

更新日時: 2025-11-15

## 完了済み

- [x] 既存: 開発サーバ起動・出力確認
  - `npm run dev`で開発サーバ起動・出力確認（完了）
- [x] 既存: ドキュメント更新・リリース
  - `README.md` / `CHANGELOG.md` 更新、コミット、タグ v0.0.2 作成・push（完了）
- [x] よく利用する経路の登録・編集機能
  - `FrequentRoutesList`：経路の追加・編集・保存・一覧表示（実装済み）
- [x] 記録の編集・削除機能
  - 記録の編集モード、更新確認モーダル、削除（ローカル state / localStorage）（実装済み）
- [x] データのエクスポート（部分）
  - CSV / XLSX のエクスポート機能（実装済み）
- [x] タブ UI の導入
  - 「新規記録」「よく使う経路」「記録履歴」「データのエクスポート」タブ（実装済み）
- [x] トースト通知（基本実装）
  - 記録保存・経路使用時に簡易トーストを表示（実装済み）

## 進行中 / 部分実装

- [-] 履歴アイテムのソート/表示制御
  - 新規追加は先頭に挿入する仕様（実装済み）。
  - 日時降順でのソートオプションや更新時の自動移動は未実装。

## 未実装 / 推奨タスク（優先度：高）

- [ ] トースト改良（段階1+2）【実装予定】
  - **段階1（必須）:** 独立した `Toast.tsx` コンポーネント化、Fade-in/Out アニメーション（CSS Animation）、`aria-live="polite"` でアクセシビリティ強化、複数トースト対応（キュー管理）、カスタムフック `useToast.ts` 実装
  - **段階2（追加）:** トースト種別（`success`/`error`/`warning`/`info`）、アイコン表示（チェックマーク/エラー等）、手動クローズボタン、タイムアウト設定可能化
  - **段階3（後日検討）:** 削除の「元に戻す」機能（Undo アクション付きトースト）、複数トーストのスタック位置制御、優先度設定（urgent/normal）
  - **実装予定時間:** 段階1+2 で 2-3時間
- [ ] 削除の「元に戻す」機能【保留・後日検討】
  - **判断:** 現時点では不要と判断。`confirm()` ダイアログで誤削除防止は十分。アプリ成熟度に応じて段階3 で実装検討。
  - **実装案案:** 削除操作後にトーストで "元に戻す" ボタン表示、一定時間内に復元可能にする
  - **参考:**段階3 で実装予定時間 1-2時間

## 未実装 / 推奨タスク（優先度：中）

- [ ] アクセシビリティ改善
  - タブの ARIA 属性、キーボード操作、トーストの `aria-live` 等を改善する。
- [ ] ナイトモード（ダークモード）のデザイン整備
  - カラー配色ガイドに基づく全面調整（現在は暫定の dark: クラス追加のみ）。
- [ ] UI デザインの整備（レスポンシブ対応含む）
  - スマホ版をベースとした設計をPC版でも見やすく・使いやすくするよう改善。
  - レスポンシブデザインの最適化、画面サイズ別の UI 調整。
  - 優先度は低めだが、プロダクト化に向けて必要。
- [ ] テスト追加（ユニット / 統合）
  - トースト、タブ切替、フォーム入力フローに対するテスト（Jest + React Testing Library 等）。
- [ ] 位置情報を使用した現在地の駅・バス停の自動検出
  - Geolocation API を利用し、候補の駅/バス停を提案する機能を追加する。
- [ ] 編集の入力バリデーション強化・自動補完
  - 駅名/バス停の補完（外部 API または内部辞書）、厳密なバリデーションを追加する。
- [ ] Hydration 不一致の自動スキャンと修正提案
  - `toLocaleString` / `Intl` / `Math.random` 等のクライアント依存 API を検出し、SSR/CSR の不一致を防ぐ修正案を提示するスクリプトを作る。

## 未実装 / 推奨タスク（優先度：低）

- [ ] データベース連携（クラウド DB 選定・実装）
  - DB 選定（Firebase, Supabase, MongoDB Atlas 等）、クラウド上での配置。
  - PC・スマホ双方でのデータ同期・共有機能の実装。
  - 優先度は UIデザインより高いが、プロトタイピングフェーズでは後回し。
- [ ] CI / リリース自動化
  - タグ付けで GitHub Release を作成するワークフローや自動デプロイの整備。
- [ ] リリースノート作成（GitHub Release）
  - v0.0.2 の GitHub Release を作成して CHANGELOG の内容を流用する。

---

## 削除されたタスク

- ~~インポート機能~~ — 既存データの取り込みは想定外のため、削除。エクスポート機能は保持。

---

備考: このファイルはリポジトリルートの `TODO.md` に保存されています。エディタで開くか、`git status` 後にコミットして共有できます。必要なら優先順位を付けて私が順に実装します。